<!-- This is the Dashboard-->
<div class="row">
    <div class="col-lg-12">
        <h1>Communities <small>Enter your data</small></h1>
        <ol class="breadcrumb">
            <li><a href="#!/index"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active"><i class="fa fa-edit"></i> Communities</li>
        </ol>
    </div>
</div><!-- /.row -->

<div class="row">
    <div class="col-lg-12">
        <p>
            <button ng-click="addCommunity(null)" type="button" class="btn btn-primary">Add new</button>
        </p>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Contact Name</th>
                        <th>Contact Phone</th>
                        <th>Contact Email</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="community in data.communities">
                        <td>
                            {{community.Name}} 
                        </td>
                        <td>
                            {{community.City}} 
                        </td>
                        <td>
                            {{community.State.Name}} 
                        </td>
                        <td>
                            {{community.Contactname}} 
                        </td>
                        <td>
                            {{community.Contactphone}} 
                        </td>
                        <td>
                            {{community.Contactemail}} 
                        </td>
                        <td>
                            <a ng-click="addCommunity(community)">Edit</a> | <a ng-click="deleteCommunity(community)">Delete</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- form for add/edit community--> 
<script type="text/ng-template" id="addEditCommunity.html">
    
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()">&times;</button>
            <h4 class="modal-title">Add/edit community</h4>
          </div>
          <form ng-submit="submit()">
            <div class="modal-body">
              <label>Community</label>
              <input type="text" class="form-control" ng-model="tmpcommunity.Name" required/>
              
              <label>City</label>
              <input type="text" class="form-control" ng-model="tmpcommunity.City" required/>
              
              <label>State</label>
              <select class="form-control" data-ng-model="tmpcommunity.StateId"
                    ng-options="state.Id as state.Name for state in data.states" required>
                    <option value="">--Select a state--</option>
                </select>
                
              <label>Time Zone</label>
              <select class="form-control" data-ng-model="tmpcommunity.TimeZoneId"
                    ng-options="timezone.Id as timezone.Timezonename for timezone in data.timezones" required>
                    <option value="">--Select a timezone--</option>
                </select>
              
              <label>Contact Name</label>
              <input type="text" class="form-control" ng-model="tmpcommunity.Contactname" required/>
              
              <label>Contact Phone</label>
              <input type="text" class="form-control" ng-model="tmpcommunity.Contactphone" required/>
              
              <label>Contact Email</label>
              <input type="text" class="form-control" ng-model="tmpcommunity.Contactemail" required/>
            </div>
            <div class="modal-footer">
                <input type="submit" class="btn btn-primary" value="Submit" />
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
          </form>
        </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</script>